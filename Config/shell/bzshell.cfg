// ================
// BATTLEZONE SHELL
// ================

//
// CREATE SHELL LOGIN PAGE
//

// ========================
// BATTLEZONE MAIN SHELL SCREEN
// ========================

// create page variable
ConfigureVarSys()
{
	CreateInteger("shell.page", 0);
	SetIntegerRange("shell.page", 0, 5);
}

// load escape screen pages
Exec("bzshell_init.cfg");
Exec("bzshell_single.cfg");
Exec("bzshell_multi.cfg");
Exec("bzshell_instant.cfg");
Exec("bzshell_login.cfg");
Exec("bzshell_load.cfg");
Exec("bzshell_option.cfg");
Exec("bzshell_single_debrief.cfg");
Exec("bzshell_login_warn_dupfiles.cfg");
Exec("bzshell_warn_crashlogged.cfg");
Exec("bzshell_premods.cfg");
Exec("bzshell_addons.cfg");
Exec("bzshell_mods.cfg");
Exec("bzshell_stats.cfg");

//
// CREATE THE MAIN SHELL PANEL
//
CreateControl("ShellMain", "WINDOW")
{

	Geom("PARENTWIDTH", "PARENTHEIGHT");
	Style("TRANSPARENT", "INERT");

	CreateControl("Quit", "BUTTON")
	{
		ColorGroup("MAGENTA");
		Geometry("TOP", "LEFT");
		Position(20, 20);
		Size(111, 00);
		BorderSize(10);
		BevelSize(5);
		Style("ROLLOVER", "OUTLINE");
		Text("Logout");
		Font("MEDIUM");
		Cursor("Highlight");
		NotifyParent("Button::Press", "Quit");
	}

	CreateControl("Options", "BUTTON")
	{
		ColorGroup("MAGENTA");
		Geometry("LEFT", "BOTTOM");
		Position(20, -20);
		Size(111, 0);
		BorderSize(10);
		BevelSize(5);
		Style("ROLLOVER", "RADIO", "OUTLINE");
		Text("Options");
		Font("MEDIUM");
		Cursor("Highlight");
		NotifyParent("Button::Select", "Options");
		UseVar("shell.page");
		Value(4);
	}

	CreateControl("Single", "BUTTON")
	{
		ColorGroup("MAGENTA");
		Geometry("HCENTRE", "TOP");
		Position(-90, 20);
		Size(140, 0);
		BorderSize(10);
		BevelSize(5);
		Style("ROLLOVER", "RADIO", "OUTLINE");
		Text("Single");
		Font("MEDIUM");
		Cursor("Highlight");
		NotifyParent("Button::Select", "Single");
		UseVar("shell.page");
		Value(0);
	}

	CreateControl("Instant", "BUTTON")
	{
		ColorGroup("MAGENTA");
		Geometry("HCENTRE", "BOTTOM");
		Position(0, -20);
		Size(151, 0);
		BorderSize(10);
		BevelSize(5);
		Style("ROLLOVER", "RADIO", "OUTLINE");
		Text("Instant Action");
		Font("MEDIUM");
		Cursor("Highlight");
		NotifyParent("Button::Select", "Instant");
		UseVar("shell.page");
		Value(1);
	}

	CreateControl("Multi", "BUTTON")
	{
		ColorGroup("MAGENTA");
		Geometry("HCENTRE", "TOP");
		Position(90, 20);
		Size(140, 0);
		BorderSize(10);
		BevelSize(5);
		Style("ROLLOVER", "RADIO", "OUTLINE");
		Text("Multi");
		Font("MEDIUM");
		Cursor("Highlight");
		NotifyParent("Button::Select", "Multi");
		UseVar("shell.page");
		Value(2);
	}
	
	CreateControl("Load", "BUTTON")
	{
		ColorGroup("MAGENTA");
		Geometry("BOTTOM", "RIGHT");
		Position(-20, -20);
		Size(111, 0);
		BorderSize(10);
		BevelSize(5);
		Style("ROLLOVER", "RADIO", "OUTLINE");
		Text("Load");
		Font("MEDIUM");
		Cursor("Highlight");
		NotifyParent("Button::Select", "Load");
		UseVar("shell.page");
		Value(3);
	}

	CreateControl("Mods", "BUTTON")
	{
		ColorGroup("MAGENTA");
		Geometry("RIGHT");
		Position(-20, 20);
		Size(111, 0);
		BorderSize(10);
		BevelSize(5);
		Style("ROLLOVER", "OUTLINE");
		Text("Mods");
		Font("MEDIUM");
		Cursor("Highlight");
		NotifyParent("Button::Press", "Mods");
	}

	CreateControl("Movie", "STATIC")
	{
		ColorGroup("WHITE");
		Geometry("HCENTRE", "VCENTRE");
		Position(0, 0);
		Size(320, 240);
	}

	CreateControl("ModLogo", "STATIC")
	{
		ColorGroup("WHITE");
		Geometry("HCENTRE", "TOP");
		Position(0, 40);
		Image("bzcc_reimagined_logo.png");
		Size(450, 75);
	}

	CreateControl("ModVersion", "STATIC")
	{
		Geometry("BOTTOM", "RIGHT");
		Position(-165, -10);
		Size(150, 15);
		Font("MEDIUM");
		Text("V0.2.4.3 Alpha");
		JustifyText("center");
		Style("TRANSPARENT");
	}

	CreateControl("ModAuthor", "STATIC")
	{
		Geometry("BOTTOM", "LEFT");
		Position(165, -10);
		Size(150, 15);
		Font("MEDIUM");
		Text("Created by AI_Unit");
		JustifyText("center");
		Style("TRANSPARENT");
	}

	OnEvent("Control::ActivateSelf")
	{
		cmd("shell.showversion");
		cmd("shell.background main.tga BackStarField.tga");
		Cmd("shell.page 5");
		cmd("shell.movie");
		Activate("|ShellMain");
		cmd("shell.backgroundSound mire22_2.wav");
	}
	
	OnEvent("Control::DeactivateSelf")
	{
		cmd("shell.stopSound mire22_2.wav");
	}

	OnEvent("Single")
	{
		FadeOut("|ShellLogin");
		FadeOut("|ShellMulti");
		FadeOut("|ShellInstant");
		FadeOut("|EscapeLoad");
		FadeOut("|ShellMain");
		FadeIn("|ShellSingle");
		Cmd("shell.single.enter");
	}

	OnEvent("PostPreMovie")
	{
		Deactivate("|ShellLogin");
		Deactivate("|ShellMulti");
		Deactivate("|ShellInstant");
		Deactivate("|EscapeLoad");
		Deactivate("|ShellMain");
		Deactivate("|ShellSingle");
		Activate("|ShellSingle");
	}
	
	OnEvent("Instant")
	{
		FadeOut("|ShellLogin");
		FadeOut("|ShellMulti");
		FadeOut("|ShellSingle");
		FadeOut("|EscapeLoad");
		FadeOut("|ShellMain");
		FadeIn("|ShellInstant");
	}
	
	OnEvent("Multi")
	{
		//FadeOut("|ShellLogin");
		//FadeOut("|ShellInstant");
		//FadeOut("|ShellSingle");
		//FadeOut("|EscapeLoad");
		//FadeOut("|ShellMain");
		Cmd("shell.multi.enter");
		//FadeIn("|ShellMulti");
	}

	OnEvent("Load")
	{
		FadeOut("|ShellLogin");
		FadeOut("|ShellInstant");
		FadeOut("|ShellSingle");
		FadeOut("|ShellMulti");
		FadeOut("|ShellMain");
		FadeIn("|ShellLoad");
	}

	OnEvent("Options")
	{
		FadeOut("|ShellLogin");
		FadeOut("|ShellInstant");
		FadeOut("|ShellSingle");
		FadeOut("|EscapeLoad");
		FadeOut("|ShellMulti");
		FadeOut("|ShellMain");
		FadeIn("|OptionPanel");
	}

	OnEvent("Mods")
	{
		FadeOut("|ShellLogin");
		FadeOut("|ShellInstant");
		FadeOut("|ShellSingle");
		FadeOut("|EscapeLoad");
		FadeOut("|ShellMulti");
		FadeOut("|ShellMain");
		FadeIn("|ShellPreMods");
	}

	OnEvent("Quit")
	{
		FadeOut("|ShellMain");
		FadeIn("|ShellLogin");
		//Cmd("sys.runcode quit");	
	}
}
